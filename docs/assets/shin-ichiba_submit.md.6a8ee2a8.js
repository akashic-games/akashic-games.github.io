import{_ as a,o as e,c as o,Q as n}from"./chunks/framework.f1c0562b.js";const s="/assets/upload_namagame_game.e879f203.png",t="/assets/export_namagame_complete.355c5e87.png",b=JSON.parse('{"title":"ニコ生ゲームを投稿しよう","description":"","frontmatter":{},"headers":[],"relativePath":"shin-ichiba/submit.md","filePath":"shin-ichiba/submit.md"}'),i={name:"shin-ichiba/submit.md"},p=n('<h1 id="ニコ生ゲームを投稿しよう" tabindex="-1">ニコ生ゲームを投稿しよう <a class="header-anchor" href="#ニコ生ゲームを投稿しよう" aria-label="Permalink to &quot;ニコ生ゲームを投稿しよう&quot;">​</a></h1><p>ニコ生ゲームの投稿は、<a href="https://namagame.coe.nicovideo.jp/games/new" target="_blank" rel="noreferrer">ニコ生ゲーム投稿</a> のページから行います。</p><p>こちらから Akashic ゲームを投稿すると、ニコニコ生放送で遊べるようになります。</p><h2 id="generate-zip" tabindex="-1">投稿用 zip ファイルを生成 <a class="header-anchor" href="#generate-zip" aria-label="Permalink to &quot;投稿用 zip ファイルを生成 {#generate-zip}&quot;">​</a></h2><p>game.json のあるディレクトリで、次のコマンドを実行します。 (<code>--nicolive</code> オプションは <code>akashic-cli@2.16.22</code> 以降で利用できます。)</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">akashic</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">zip</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--output</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">game.zip</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--nicolive</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">akashic</span><span style="color:#24292E;"> </span><span style="color:#032F62;">export</span><span style="color:#24292E;"> </span><span style="color:#032F62;">zip</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--output</span><span style="color:#24292E;"> </span><span style="color:#032F62;">game.zip</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--nicolive</span></span></code></pre></div><p>すると game.zip という名前の zip ファイルが生成されます。 (ディレクトリ内に game.zip というファイルが既にある場合は、 game.zip の代わりに .zip で終わる適当なファイル名を指定してください)</p><p><code>--nicolive</code> オプションをつけることで、ニコニコ生放送に対応した形式のファイルを生成します。</p><h3 id="note" tabindex="-1">生成時の注意点 <a class="header-anchor" href="#note" aria-label="Permalink to &quot;生成時の注意点 {#note}&quot;">​</a></h3><p>現在のところ、ニコ生ゲームには次のような制約があります。</p><ul><li>zip ファイルの <strong>展開後の合計サイズが 10 MB 以下</strong></li><li>zip ファイルに含まれる <strong>game.json が 100KB 以下</strong></li><li>全てのテキストファイル (.js, .json, .txt など) の <strong>文字コードが UTF-8</strong></li></ul><p>現在のニコ生ゲームではまず zip ファイルの展開後のサイズが 10MB 以下である必要があります。 これを超える場合、ニコ生ゲームとして投稿する際に失敗するので注意してください。</p><p>また game.json が 100KB 以下である必要があります。 特にアセットが非常に多いコンテンツでこの制限にあたる場合があります。</p><p><strong>全てのテキストファイル (.js, .json, .txt) の文字コードが UTF-8 であることを確認してください</strong> 。 <code>akashic export</code> コマンドは、効率化のためできるだけテキストファイルを一つにまとめます。ただし、ファイル自体の文字コードは変換されないため Shift JIS など UTF-8 でない文字コードが使われていると、game.zip の中身が文字化けしてしまうことがあります。</p><h2 id="submit-to-namagame" tabindex="-1">ニコ生ゲーム投稿 <a class="header-anchor" href="#submit-to-namagame" aria-label="Permalink to &quot;ニコ生ゲーム投稿 {#submit-to-namagame}&quot;">​</a></h2><p>ニコ生ゲームへの投稿は、Web サイト上で行います。大まかな手順は以下の通りです。</p><p><a href="https://namagame.coe.nicovideo.jp/games/new" target="_blank" rel="noreferrer">ニコ生ゲーム投稿</a>ページを開きます。(ニコニコアカウントでのログインが求められます。) zip ファイルを「ゲームファイル」の欄で選択もしくはドラッグ＆ドロップします。</p><p><img src="'+s+'" alt="ゲームアップロード"></p><p>残りの入力項目に入力して、「投稿する」ボタンを押します。</p><p>詳細な入力・操作方法については、ニコ生ゲーム投稿ページの案内に従ってください。</p><ul><li>ニコニコ生放送での表示の都合上、アイコンは 160x160 以上 320x320 以下の画像である必要があります。幅と高さが同じ(正方形の)画像を推奨します。</li><li>アイコン画像にはアニメーション GIF を指定することもできます。ただしニコニコ生放送上では静止画 (最初の 1 フレーム) になります。これはアイコンが配信画面より目立ってしまうのを避けるための仕様です。</li><li>「非公開」を設定した場合には、投稿者が作成した番組でのみ起動できます。 投稿完了後に<a href="https://namagame.coe.nicovideo.jp/" target="_blank" rel="noreferrer">生ゲーム投稿</a>ページから自分が投稿したゲームの一覧を確認できます。</li></ul><p><img src="'+t+'" alt="投稿完了"></p><h2 id="updating-content" tabindex="-1">ゲームの更新 <a class="header-anchor" href="#updating-content" aria-label="Permalink to &quot;ゲームの更新 {#updating-content}&quot;">​</a></h2><p><a href="https://namagame.coe.nicovideo.jp/" target="_blank" rel="noreferrer">生ゲーム投稿</a>ページでは、一度アップロードしたゲームの内容を更新することができます。<a href="https://namagame.coe.nicovideo.jp/" target="_blank" rel="noreferrer">生ゲーム投稿</a>ページの対象のゲームから 「編集する」ボタンを押すことで編集が可能となります。</p><h2 id="trouble-shooting" tabindex="-1">トラブルシューティング <a class="header-anchor" href="#trouble-shooting" aria-label="Permalink to &quot;トラブルシューティング {#trouble-shooting}&quot;">​</a></h2><p>ニコ生ゲームへの投稿中によくあるエラーをまとめます。Akashic Engine 全般の <a href="/tips/common-pitfalls.html">よくある落とし穴</a> も参照してください。</p><h3 id="invalid-gamejson" tabindex="-1">「game.json の容量をご確認ください。」という表示でニコ生ゲームの投稿に失敗する <a class="header-anchor" href="#invalid-gamejson" aria-label="Permalink to &quot;「game.json の容量をご確認ください。」という表示でニコ生ゲームの投稿に失敗する {#invalid-gamejson}&quot;">​</a></h3><p>zip ファイルに含められた game.json のサイズが大きすぎる (100KB 以上)ことがあります。 game.json のサイズは現在ニコ生ゲーム特有の制限であるためです。</p><p>zip ファイルを展開して、サイズを確認してください。 この問題に当たっている場合は、アセット数を減らすなどして game.json のサイズを削減する必要があります。</p><h3 id="error-unknown-option-atsumaru" tabindex="-1">unknown option &#39;--nicolive&#39; と表示される <a class="header-anchor" href="#error-unknown-option-atsumaru" aria-label="Permalink to &quot;unknown option &#39;--nicolive&#39; と表示される {#error-unknown-option-atsumaru}&quot;">​</a></h3><p><code>akashic export zip</code> 実行時、次のようなエラーメッセージが表示される場合、 <code>akashic-cli</code> のバージョンが古い可能性があります。 <code>akashic-cli@2.16.22</code> 以降を利用してください。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">  error: unknown option `--nicolive&#39;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">  error: unknown option `--nicolive&#39;</span></span></code></pre></div><p>次のコマンドで <code>akashic-cli</code> を再インストールしてください。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">npm install -g @akashic/akashic-cli</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">npm install -g @akashic/akashic-cli</span></span></code></pre></div><h3 id="error-cannot-find-module-from" tabindex="-1">Error: Cannot find module ... from ... と表示される <a class="header-anchor" href="#error-cannot-find-module-from" aria-label="Permalink to &quot;Error: Cannot find module ... from ... と表示される {#error-cannot-find-module-from}&quot;">​</a></h3><p><code>akashic export zip</code> 実行時、次のようなエラーメッセージが表示される場合、ソースコードを変更する必要があります。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">ERROR: Error: Cannot find module &#39;foo&#39; from ...</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">ERROR: Error: Cannot find module &#39;foo&#39; from ...</span></span></code></pre></div><p>この現象は、ゲームスクリプト内で <code>require()</code> を利用し、その引数にアセット ID を与えている場合に発生します。 (<code>require(&quot;foo&quot;)</code> でアセット ID <code>&quot;foo&quot;</code> のスクリプトアセットを読み込むなど)</p><p>アセット ID ではなく、相対パスで <code>require()</code> するように変更してください。(<code>require(&quot;./foo&quot;)</code> など)</p><p><code>require()</code> がアセット ID を受け付けているのは、Akashic Engine の古い仕様によるものです。アセット ID と同名の npm モジュールがあると衝突してしまうという問題があるため、この挙動は将来的に廃止される可能性があります。ニコ生ゲームであるか否かに関わらず、 <code>require()</code> にアセット ID を与えることは避けてください。</p>',40),r=[p];function l(c,d,h,m,u,g){return e(),o("div",null,r)}const f=a(i,[["render",l]]);export{b as __pageData,f as default};
