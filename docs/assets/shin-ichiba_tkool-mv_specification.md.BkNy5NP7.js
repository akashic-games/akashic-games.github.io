import{_ as e,c as o,o as i,a3 as l}from"./chunks/framework.B_s5ISUx.js";const a="/assets/namagame-template.EJb8rE4k.png",t="/assets/convert-tkoolmv-plugins.BB0hrfmV.png",b=JSON.parse('{"title":"仕様・詳細情報","description":"","frontmatter":{},"headers":[],"relativePath":"shin-ichiba/tkool-mv/specification.md","filePath":"shin-ichiba/tkool-mv/specification.md"}'),c={name:"shin-ichiba/tkool-mv/specification.md"},r=l('<h1 id="仕様・詳細情報" tabindex="-1">仕様・詳細情報 <a class="header-anchor" href="#仕様・詳細情報" aria-label="Permalink to &quot;仕様・詳細情報&quot;">​</a></h1><h2 id="limitations" tabindex="-1">制限事項・非対応機能 <a class="header-anchor" href="#limitations" aria-label="Permalink to &quot;制限事項・非対応機能 {#limitations}&quot;">​</a></h2><p>RPG ツクール MV ニコ生ゲーム化キットで作成されたニコ生ゲームでは、現在 RPG ツクール MV の以下の機能が利用できません。</p><ul><li>タイトルシーンのメニュー表示 <ul><li>セーブ・ロードに非対応のため、メニューは表示されません。一定時間で自動的にニューゲームが選択されます。</li></ul></li><li>30MB 以上の容量 <ul><li>ニコ生ゲームのサイズ上限のため (下記に後述)</li></ul></li><li>音声のシーク再生</li><li>音声のピッチ・位相の変更</li><li>セーブ・ロード機能</li><li>オプション機能</li><li>動画再生</li><li>Window.png によるウィンドウデザインの一部カスタマイズ</li><li>キーボード入力</li><li>フォントの変更 (ブラウザ依存となります)</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>未対応機能は今後対応を進めていきます。Akashic Engine の機能やニコニコ生放送という実行環境の制約から、一部の機能のサポートは予定されていません。</p></div><p>RPG ツクール MV ニコ生ゲーム化キットでは以下のプラグインのみサポートしています。ただし、それ以外のプラグインについてもコンバータのプラグイン変換機能 (試験中) を利用することによって動作する可能性があります。(後述)</p><ul><li>ニコ生ランキングプラグイン</li><li><a href="https://triacontane.blogspot.com/2015/11/blog-post_23.html" target="_blank" rel="noreferrer">ピクチャのボタン化プラグイン</a></li><li><a href="https://triacontane.blogspot.com/2015/12/rpgmv-rpgmv-dtext-1-rpgmv-dtext-dtext.html" target="_blank" rel="noreferrer">動的文字列ピクチャ生成プラグイン</a></li></ul><p>また、一部イベントなどの「スクリプト」による指定についても、完全な動作保証はできません。 RPG ツクール MV 標準のプログラムに強く依存した機能であるためです。 ある程度の互換性を目指してはおり (<code>$gameVariables</code> の提供など)、内容によっては動作する可能性もありますが、保証できかねます。</p><h3 id="size-limit-note" tabindex="-1">ニコ生ゲームのサイズ上限 <a class="header-anchor" href="#size-limit-note" aria-label="Permalink to &quot;ニコ生ゲームのサイズ上限 {#size-limit-note}&quot;">​</a></h3><p>ニコ生ゲームの合計サイズは、従来 10MB が上限でした。 RPG ツクール MV ニコ生ゲームキットの公開に合わせ、 この制限は現在 <strong>実験的に 30 MB に引き上げられています</strong> 。 RPG ツクール MV から変換したゲームでは、画像や音声ファイルなどを限界まで削減・軽量化しないと 10MB に納まらないこと多かったためです。</p><p>ただしニコ生ゲームは「生放送の配信映像と並行してダウンロードされる」性質上、軽ければ軽い方がよいものです。 <strong>上限に関わらずできるだけ軽量化</strong> していただくことは、プレイ体験のために引き続き重要です。</p><h2 id="ranking-game-plugin" tabindex="-1">ランキングゲームプラグイン <a class="header-anchor" href="#ranking-game-plugin" aria-label="Permalink to &quot;ランキングゲームプラグイン {#ranking-game-plugin}&quot;">​</a></h2><h3 id="導入方法" tabindex="-1">導入方法 <a class="header-anchor" href="#導入方法" aria-label="Permalink to &quot;導入方法&quot;">​</a></h3><ul><li>RPG ツクール MV で作成しているゲームディレクトリの <code>js</code> 下に、ランキングプラグインファイル <code>AkashicRankingMode.js</code> をコピーする <ul><li>RPG ツクール MV のゲームディレクトリは、Windows の場合デフォルトだと <code>C:\\Users\\〇〇\\Documents\\Games</code>(〇〇はユーザー名)下に配置されている</li><li><code>AkashicRankingMode.js</code> は <code>tkoolmv-namagame-kit/plugins</code> に配置されている</li></ul></li><li>RPG ツクール MV の [ツール] - [プラグイン管理] で プラグイン画面を開き、<code>AkashicRankingMode</code> プラグインの状態を ON にすることで有効にする</li></ul><h3 id="効果・影響" tabindex="-1">効果・影響 <a class="header-anchor" href="#効果・影響" aria-label="Permalink to &quot;効果・影響&quot;">​</a></h3><ul><li>タイトル画面のメニューを非表示</li><li>タイトル画面から一定時間でニューゲームを開始</li><li>タイマーを始動する時、時間を強制的にニコ生ゲームの実行時間に設定 (無効化可能)</li><li>タイマー表示中のメニューを禁止 (無効化可能)</li><li>メニューを禁止しない場合、メニュー画面の「ゲーム終了」を非表示</li><li>特定の番号の変数に格納された数字を、ゲーム終了時に「得点」として集計</li><li>「得点」をゲーム MAP 画面上に表示</li><li>全体音量の設定 (ニコ生環境での実行時のみ)</li></ul><p>このプラグインは、 <strong>タイトル画面のメニューを非表示</strong> にします。 また一定時間で自動的にニューゲームを開始します。 これは時間制限のあるランキング形式のニコ生ゲームで、タイトル表示時間によってゲームプレイ時間が左右されないようにするための措置です。</p><p>このプラグインは、 <strong>タイマーの時間を強制的にニコ生ゲームの実行時間に上書き</strong> します。 これにより、ニューゲームの開始直後にタイマーを始動させることで、ゲーム画面に残り時間を表示できます。 RPG ツクール MV の通常のタイマー機能では固定の時間しか選べないため、ニコ生ゲームの残り時間 (必ずしも一定でない) を表示できるよう、強制的に時間を上書きしています。 ただし後述のパラメータ <code>forceNamagameTimer</code> を <code>&quot;0&quot;</code> にすることで無効化できます。 これは暫定的な仕様です。将来的には、プラグインコマンドで「ニコ生ゲームの時間でタイマーを始動する」機能を提供する予定です。</p><p>またこのプラグインはデフォルトで <strong>タイマー表示中のメニュー表示を禁止</strong> します。 これは後述のパラメータ <code>prohibitMenu</code> を <code>&quot;0&quot;</code> にすることで無効化できます。 RPG ツクール MV のタイマーは、メニューを開いている間止まってしまうため、ニコ生ゲームのカウントダウンに使うと相性が悪いためです。</p><p>以下の画像のようにデフォルトで<strong>現在の「得点」をゲーム MAP 上に表示</strong>します。 これは後述のパラメータ <code>showScore</code> を <code>&quot;0&quot;</code> にすることで無効化できます。 表示ウィンドウのサイズや位置については、<code>scoreWidth</code>, <code>scoreHeight</code>, <code>svoreX</code>, <code>scoreY</code> で設定します。 「得点」の単位はデフォルトだと「pt」になっていますが、<code>scoreUnit</code> で変更可能です。</p><p><img src="'+a+'" alt="ニコ生ゲーム用テンプレート"></p><h3 id="パラメータ" tabindex="-1">パラメータ <a class="header-anchor" href="#パラメータ" aria-label="Permalink to &quot;パラメータ&quot;">​</a></h3><ul><li><code>scoreVariableNumber</code>: スコアとして使用する変数番号。RPG ツクール MV 側では個々で指定した変数をスコアとして利用する必要がある</li><li><code>totalTimeLimit</code>: ゲームの総制限時間。titleTime や graceTime を含んでいる。最小値:20、最大値:200</li><li><code>titleTime</code>: タイトル画面を表示する時間</li><li><code>graceTime</code>: ゲーム終了後待機時間</li><li><code>prohibitMenu</code>： タイマー表示中にメニューを禁止するかどうか。1:禁止、0:許可</li><li><code>showScore</code>： 現在のスコアを表示するかどうか。1:表示する、0:表示しない</li><li><code>scoreWidth</code>： スコア表示ウィンドウの横幅</li><li><code>scoreHeight</code>： スコア表示ウィンドウの縦幅</li><li><code>scoreX</code>： スコア表示ウィンドウ左上端の x 座標</li><li><code>scoreY</code>： スコア表示ウィンドウ左上端の y 座標</li><li><code>scoreUnit</code>： スコアの単位</li><li><code>musicVolume</code>： BGM・BGS の全体音量。最小値:0、最大値:100</li><li><code>soundVolume</code>： SE・ME の全体音量。最小値:0、最大値:100</li><li><code>forceNamagameTimer</code>： タイマーの制限時間書き換えを行うかどうか。1:はい、0:いいえ</li></ul><h2 id="picture-call-common" tabindex="-1">ピクチャのボタン化プラグイン <a class="header-anchor" href="#picture-call-common" aria-label="Permalink to &quot;ピクチャのボタン化プラグイン {#picture-call-common}&quot;">​</a></h2><p>RPG ツクール MV ニコ生ゲーム化キットは<a href="https://triacontane.blogspot.com/2015/11/blog-post_23.html" target="_blank" rel="noreferrer">ピクチャのボタン化プラグイン</a> <strong>Version 1.14.5</strong> (2023 年 11 月 8 日時点の最新版)に対応しています。ただし、他のバージョンで動作する保証はありません。</p><p>また、Akashic Engine 単体ではマウスホバーの検出ができないため、プラグインコマンド[<code>P_CALL_CE</code>]でマウスホバーに関する以下のトリガーには対応していません。</p><ul><li>4: マウスをピクチャに重ねる</li><li>5: マウスをピクチャから放す</li><li>11: マウスをピクチャ内で移動する</li></ul><h3 id="導入方法-1" tabindex="-1">導入方法 <a class="header-anchor" href="#導入方法-1" aria-label="Permalink to &quot;導入方法&quot;">​</a></h3><h4 id="新規導入の場合" tabindex="-1">新規導入の場合 <a class="header-anchor" href="#新規導入の場合" aria-label="Permalink to &quot;新規導入の場合&quot;">​</a></h4><ul><li>RPG ツクール MV で作成しているゲームディレクトリの <code>js</code> 下に、ピクチャのボタン化プラグインファイル <code>PictureCallCommon.js</code> をコピーする <ul><li>RPG ツクール MV のゲームディレクトリは、Windows の場合デフォルトだと <code>C:\\Users\\〇〇\\Documents\\Games</code>(〇〇はユーザー名)下に配置されている</li><li><code>PictureCallCommon.js</code> は <code>tkoolmv-namagame-kit/plugins</code> に配置されている</li></ul></li><li>RPG ツクール MV の [ツール] - [プラグイン管理] で プラグイン画面を開き、<code>PictureCallCommon</code> プラグインの状態を ON にすることで有効にする</li></ul><h4 id="既に導入済みの場合" tabindex="-1">既に導入済みの場合 <a class="header-anchor" href="#既に導入済みの場合" aria-label="Permalink to &quot;既に導入済みの場合&quot;">​</a></h4><ul><li>RPG ツクール MV で作成しているゲームディレクトリの <code>js</code> 下に、<code>PictureCallCommon.js</code> を <strong>Version 1.14.5</strong> のソースコードで置き換える</li><li>RPG ツクール MV 上とニコ生環境で問題なく動作することを確認する</li></ul><h2 id="DTextPicture" tabindex="-1">動的文字列ピクチャ生成プラグイン <a class="header-anchor" href="#DTextPicture" aria-label="Permalink to &quot;動的文字列ピクチャ生成プラグイン {#DTextPicture}&quot;">​</a></h2><p>RPG ツクール MV ニコ生ゲーム化キットは<a href="https://triacontane.blogspot.com/2015/12/rpgmv-rpgmv-dtext-1-rpgmv-dtext-dtext.html" target="_blank" rel="noreferrer">動的文字列ピクチャ生成プラグイン</a> <strong>Version 1.20.5</strong> (2023 年 11 月 20 日時点の最新版)に対応しています。ただし、他のバージョンで動作する保証はありません。</p><p>また、制限事項として font の bold 指定はサポートしていません。</p><h3 id="導入方法-2" tabindex="-1">導入方法 <a class="header-anchor" href="#導入方法-2" aria-label="Permalink to &quot;導入方法&quot;">​</a></h3><h4 id="新規導入の場合-1" tabindex="-1">新規導入の場合 <a class="header-anchor" href="#新規導入の場合-1" aria-label="Permalink to &quot;新規導入の場合&quot;">​</a></h4><ul><li>RPG ツクール MV で作成しているゲームディレクトリの <code>js</code> 下に、ピクチャのボタン化プラグインファイル <code>DTextPicture.js</code> をコピーする <ul><li>RPG ツクール MV のゲームディレクトリは、Windows の場合デフォルトだと <code>C:\\Users\\〇〇\\Documents\\Games</code>(〇〇はユーザー名)下に配置されている</li><li><code>DTextPicture.js</code> は <code>tkoolmv-namagame-kit/plugins</code> に配置されている</li></ul></li><li>RPG ツクール MV の [ツール] - [プラグイン管理] で プラグイン画面を開き、<code>DTextPicture</code> プラグインの状態を ON にすることで有効にする</li></ul><h4 id="既に導入済みの場合-1" tabindex="-1">既に導入済みの場合 <a class="header-anchor" href="#既に導入済みの場合-1" aria-label="Permalink to &quot;既に導入済みの場合&quot;">​</a></h4><ul><li>RPG ツクール MV で作成しているゲームディレクトリの <code>js</code> 下に、<code>DTextPicture.js</code> を <strong>Version 1.20.5</strong> のソースコードで置き換える</li><li>RPG ツクール MV 上とニコ生環境で問題なく動作することを確認する</li></ul><h2 id="other-plugins" tabindex="-1">その他プラグインの利用 <a class="header-anchor" href="#other-plugins" aria-label="Permalink to &quot;その他プラグインの利用 {#other-plugins}&quot;">​</a></h2><p>以下のように、RPG ツクール MV ニコ生ゲーム化コンバーターで「RPG ツクール MV プラグインを含めて変換する」にチェックを入れると、キットが標準でサポートしていないプラグイン (非サポートプラグイン)もニコ生ゲーム上で動くように変換処理が行われます。</p><p><img src="'+t+'" alt="RPG ツクール MV プラグインの変換"></p><p>ただし、この機能は試験中のため、変換したゲームの実行時にエラーが発生する可能性があります。その場合はチェックを外して再度変換処理を行うかエラーが発生したプラグインに対して別途修正する対応を行ってください。 また本変換機能では以下の項目はサポートしていませんので、プラグインに該当する箇所がある場合は修正等の対応をお願いします。</p><ul><li>ツクール MV コアスクリプトのオブジェクトの直接的書き換え <ul><li>例: <code>Bitmap = BitmapHoge;</code> というように既存のオブジェクトに別のオブジェクトを直接代入すること</li></ul></li><li><code>document</code> や <code>window</code> など Web ブラウザ上でのみ利用可能な値の利用</li></ul><h2 id="ニコ生ゲームに変換後の-game-のディレクトリ構造" tabindex="-1">ニコ生ゲームに変換後の game のディレクトリ構造 <a class="header-anchor" href="#ニコ生ゲームに変換後の-game-のディレクトリ構造" aria-label="Permalink to &quot;ニコ生ゲームに変換後の game のディレクトリ構造&quot;">​</a></h2><p>ニコ生ゲームに変換後の <code>game</code> のディレクトリ構造は以下のようになります。</p><ul><li>assets <ul><li>img: RPG ツクールゲームからコピーしてきた画像ファイルが配置されている</li><li>audio: RPG ツクールゲームからコピーしてきた音声ファイルが配置されている</li></ul></li><li>script: JavaScript ファイルが配置されている。これは game に初めから入っている</li><li>text: JSON 形式のテキストファイルが配置されている。RPG ツクールゲームの <code>data</code> からコピーしてきたものと game に初めから入っているファイルが混在している</li><li>game.json: ニコ生ゲームとして起動させるために必要な情報(画面サイズ、fps、アセット情報等)が記載されている</li></ul>',48),d=[r];function n(s,h,m,u,p,g){return i(),o("div",null,d)}const k=e(c,[["render",n]]);export{b as __pageData,k as default};
