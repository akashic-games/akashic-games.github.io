import{_ as s,o as a,c as e,Q as p}from"./chunks/framework.f1c0562b.js";const u=JSON.parse('{"title":"akashic init テンプレート利用ガイド","description":"","frontmatter":{},"headers":[],"relativePath":"reference/tool/template-guide.md","filePath":"reference/tool/template-guide.md"}'),o={name:"reference/tool/template-guide.md"},n=p(`<h1 id="akashic-init-テンプレート利用ガイド" tabindex="-1">akashic init テンプレート利用ガイド <a class="header-anchor" href="#akashic-init-テンプレート利用ガイド" aria-label="Permalink to &quot;akashic init テンプレート利用ガイド&quot;">​</a></h1><p><code>akashic init</code> コマンドで利用可能なカスタムテンプレートの作成方法と、テンプレートをチームで共有する方法を説明します。</p><h2 id="自分だけが利用するテンプレートを作る" tabindex="-1">自分だけが利用するテンプレートを作る <a class="header-anchor" href="#自分だけが利用するテンプレートを作る" aria-label="Permalink to &quot;自分だけが利用するテンプレートを作る&quot;">​</a></h2><p>作成した Akashic ゲームをテンプレートにするときは、作成したゲームをディレクトリごとテンプレートディレクトリにコピーします。</p><p>テンプレートディレクトリの場所は Windows の場合は <code>%USERPROFILE%\\.akashic-templates</code> Unix/Linux の場合は <code>$HOME/.akashic-templates</code> です。</p><p><code>akashic init</code> はテンプレートディレクトリから、テンプレート名と同じ名前のディレクトリを探し、見つかった場合はその中身をディレクトリ構造を保ったままカレントディレクトリにコピーします。</p><p>コピー完了後 <code>width</code>, <code>height</code>, <code>fps</code> の値をユーザに問い合わせ、カレントディレクトリにある <code>game.json</code> の該当する値を更新します。</p><p>例えば、</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">akashic</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-t</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mytemplate</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">akashic</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-t</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mytemplate</span></span></code></pre></div><p>と入力した場合、<code>akashic init</code> は <code>.akashic-templates/mytemplate</code> 以下のファイルやディレクトリをコピーします。</p><h3 id="ゲームのルートディレクトリ以外の場所に-game-json-を配置する場合" tabindex="-1">ゲームのルートディレクトリ以外の場所に <code>game.json</code> を配置する場合 <a class="header-anchor" href="#ゲームのルートディレクトリ以外の場所に-game-json-を配置する場合" aria-label="Permalink to &quot;ゲームのルートディレクトリ以外の場所に \`game.json\` を配置する場合&quot;">​</a></h3><p>ゲームのルートディレクトリ以外の場所に <code>game.json</code> を配置する場合、テンプレートディレクトリ内にあるテンプレート名と同じ名前のディレクトリ直下に、 <code>template.json</code> という名前のファイルを置いて、<code>game.json</code> のパスを明示します。</p><p>例えば、以下の内容を <code>template.json</code> に書き込んだ場合、ゲームのルートディレクトリ以下の <code>game</code> ディレクトリ内に配置されている <code>game.json</code> を利用します。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;gameJson&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;game/game.json&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;gameJson&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;game/game.json&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="カスタムテンプレートを-akashic-init-のデフォルトにする" tabindex="-1">カスタムテンプレートを akashic init のデフォルトにする <a class="header-anchor" href="#カスタムテンプレートを-akashic-init-のデフォルトにする" aria-label="Permalink to &quot;カスタムテンプレートを akashic init のデフォルトにする&quot;">​</a></h3><p><code>$HOME/.akashicrc</code> に項目を追加すると <code>-t</code> オプションを使用しない場合のテンプレートを指定できます。例えばテンプレート名が <code>mytemplate</code> の場合は以下のようになります。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">[init]</span></span>
<span class="line"><span style="color:#e1e4e8;">defaultTemplateType=&quot;mytemplate&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">[init]</span></span>
<span class="line"><span style="color:#24292e;">defaultTemplateType=&quot;mytemplate&quot;</span></span></code></pre></div><h2 id="チームでテンプレートを共有する" tabindex="-1">チームでテンプレートを共有する <a class="header-anchor" href="#チームでテンプレートを共有する" aria-label="Permalink to &quot;チームでテンプレートを共有する&quot;">​</a></h2><p>Web サーバを用意して、テンプレートを zip で固めたものを配置してテンプレート配信サーバを用意することで、チームでテンプレートを共有できます。テンプレート配信サーバが登録されていると、<code>akashic init</code> は指定した名前のテンプレートがテンプレートディレクトリに存在しない場合に、サーバからテンプレートをダウンロードします。</p><h3 id="zip-ファイルの作り方" tabindex="-1">zip ファイルの作り方 <a class="header-anchor" href="#zip-ファイルの作り方" aria-label="Permalink to &quot;zip ファイルの作り方&quot;">​</a></h3><p>ゲームのコンテンツを <code>テンプレート名.zip</code> という名前で zip 圧縮します。トップレベルディレクトリは含まないように圧縮してください。</p><p>例えば zip コマンドを利用する場合、ゲームのディレクトリで以下のコマンドを利用して作成できます。</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">zip</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-R</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mytemplate.zip</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">*</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">zip</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-R</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mytemplate.zip</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">*</span></span></code></pre></div><h3 id="テンプレートリストの作り方" tabindex="-1">テンプレートリストの作り方 <a class="header-anchor" href="#テンプレートリストの作り方" aria-label="Permalink to &quot;テンプレートリストの作り方&quot;">​</a></h3><p>Web サーバには <code>template-list.json</code> という名前のファイルが必要です。このファイルには以下のようにテンプレート名と zip ファイルのパスの対応を記述します。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;templates&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;javascript&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;javascript.zip&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;typescript&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;typescript.zip&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;mytemplate&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;mytemplate.zip&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;templates&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;javascript&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;javascript.zip&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;typescript&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;typescript.zip&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;mytemplate&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;mytemplate.zip&quot;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="テンプレートサーバアドレスの設定" tabindex="-1">テンプレートサーバアドレスの設定 <a class="header-anchor" href="#テンプレートサーバアドレスの設定" aria-label="Permalink to &quot;テンプレートサーバアドレスの設定&quot;">​</a></h3><p>テンプレートサーバを利用するユーザの <code>$HOME/.akashicrc</code> に以下のような項目を追加してサーバアドレスを指定します。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">[init]</span></span>
<span class="line"><span style="color:#e1e4e8;">repository=&quot;http://example.com/templates/&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">[init]</span></span>
<span class="line"><span style="color:#24292e;">repository=&quot;http://example.com/templates/&quot;</span></span></code></pre></div><p>このように設定した場合、以下のアドレスでファイルを取得できる必要があります。</p><ul><li><code>http://example.com/templates/template-list.json</code> でテンプレートリスト。</li><li><code>http://example.com/templates/mytemplate.zip</code> でテンプレートの zip ファイル。</li></ul><h3 id="動作確認" tabindex="-1">動作確認 <a class="header-anchor" href="#動作確認" aria-label="Permalink to &quot;動作確認&quot;">​</a></h3><p>テンプレートディレクトリに <code>mytemplate</code> が存在するばあいはディレクトリを削除して、以下のコマンドを入力します。</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">akashic</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-t</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mytemplate</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">akashic</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-t</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mytemplate</span></span></code></pre></div><p>サーバに接続された場合、コンソール画面に次のようなログが出力されます。</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">INFO:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">access</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://example.com/templates/template-list.json</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">INFO:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">access</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://example.com/templates/template-list.json</span></span></code></pre></div><p>ダウンロードされたテンプレートはローカルテンプレートディレクトリに保存され、次回以降はローカルのテンプレートを利用するようになります。</p><p>テンプレートを再ダウンロードしたい場合(サーバのテンプレートが更新された場合など)は、テンプレートディレクトリ以下の該当するディレクトリを削除して、適当なディレクトリで <code>akashic init</code> を実行する必要があります。</p>`,38),l=[n];function t(c,i,r,d,y,h){return a(),e("div",null,l)}const m=s(o,[["render",t]]);export{u as __pageData,m as default};
